<header>
  <!-- Nav Bar -->
  <nav id="navbar" class="navbar navbar-light navbar-expand-sm {% if site.navbar_fixed %}fixed-top{% else %}sticky-top{% endif %}" role="navigation" style="font-size: 18px;">
    <div class="container">
      <!-- Your existing code... -->

      <!-- Add the theme toggle button here -->
      <img id="theme-toggle" src="{{ site.baseurl }}/assets/img/logo_480.jpeg" alt="Toggle Theme" style="cursor: pointer; width: 20%; max-width: 100px; z-index: 1000;">
    </div>
  </nav>
  <!-- Your existing code... -->
</header>

<style>
/* Default to light theme */
.profile-img-dark {
  display: none;
}

body.dark-mode .profile-img-light {
  display: none;
}

body.dark-mode .profile-img-dark {
  display: block;
}

#theme-toggle {
  cursor: pointer;
  width: 20%; /* Adjust the width as needed */
  max-width: 100px; /* Ensure it doesn't get too large */
  z-index: 1000; /* Ensure it stays above other content */
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function () {
    function applyTheme() {
        let theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.body.classList.toggle('dark-mode', theme === 'dark');
        switchProfileImage(theme);
    }

    function switchProfileImage(theme) {
        const profileImageLight = document.querySelector('.profile-img-light');
        const profileImageDark = document.querySelector('.profile-img-dark');
        if (theme === 'dark') {
            profileImageLight.style.display = 'none';
            profileImageDark.style.display = 'block';
        } else {
            profileImageLight.style.display = 'block';
            profileImageDark.style.display = 'none';
        }
    }

    function toggleTheme() {
        let theme = localStorage.getItem('theme') || 'light';
        theme = theme === 'light' ? 'dark' : 'light';
        localStorage.setItem('theme', theme);
        applyTheme();
    }

    document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', applyTheme);
    applyTheme();
});
</script>
